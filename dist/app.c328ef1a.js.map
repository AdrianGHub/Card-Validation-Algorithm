{"version":3,"sources":["card-checker.js","app.js"],"names":["checkCardNumber","cardNumber","clearCardNumber","replace","test","Error","cardNumberArray","split","poppedArray","poppedItem","pop","multipliedNumberArray","slice","map","num","index","parseInt","reducedNumbers","toString","reduce","total","cardNames","validCardName","startsWith","length","form","document","querySelector","cardNameInput","submitBtn","errorEl","result","forms","addEventListener","e","preventDefault","messages","value","push","innerText","join"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["\r\nfunction checkCardNumber(cardNumber) {\r\n\r\n   const clearCardNumber = cardNumber.replace(/\\s+/g, ''); \r\n\r\n    if(typeof clearCardNumber !== 'string' || /^\\d+$/.test(clearCardNumber) !== true ) {\r\n        throw new Error(\"Podaj numer karty w postaci liczb.\")\r\n    } else {\r\n\r\n    const cardNumberArray = clearCardNumber.split('');\r\n    \r\n    const poppedArray = [...cardNumberArray];\r\n    \r\n    const poppedItem = poppedArray.pop();\r\n    \r\n    const multipliedNumberArray = cardNumberArray.slice(0,-1).map((num, index) => index % 2 === 0 ? num * 2 : parseInt(num));\r\n    \r\n    const reducedNumbers = multipliedNumberArray.toString().replace(/,/g, '').split('').map(num => parseInt(num)).reduce((total, num) => total += num);\r\n    \r\n    \r\n  if((reducedNumbers + parseInt(poppedItem)) % 10 === 0) {\r\n      const cardNames = ['Mastercard', 'AmericanExpress', 'Visa'];\r\n      \r\n      let validCardName;\r\n      \r\n      switch(true) {\r\n          case (clearCardNumber.startsWith('51') && clearCardNumber.length === 16) :\r\n             validCardName = cardNames[0];\r\n              break;\r\n          case (clearCardNumber.startsWith('52') && clearCardNumber.length === 16) :\r\n              validCardName = cardNames[0];\r\n              break;\r\n          case (clearCardNumber.startsWith('53') && clearCardNumber.length === 16) :\r\n              validCardName = cardNames[0];\r\n              break;\r\n          case (clearCardNumber.startsWith('54') && clearCardNumber.length === 16) :\r\n              validCardName = cardNames[0];\r\n              break;\r\n          case (clearCardNumber.startsWith('55') && clearCardNumber.length === 16) :\r\n              validCardName = cardNames[0];\r\n              break;\r\n          case (clearCardNumber.startsWith('34') && clearCardNumber.length === 15) :\r\n              validCardName = cardNames[1];\r\n              break;\r\n          case (clearCardNumber.startsWith('37') && clearCardNumber.length === 15) :\r\n              validCardName = cardNames[1];\r\n              break;\r\n          case (clearCardNumber.startsWith('4')  && (clearCardNumber.length === 13 || clearCardNumber.length === 16)):\r\n              validCardName = cardNames[2];\r\n              break;\r\n          default: \r\n              false;\r\n      }\r\n      return `Twoja karta jest poprawna. Wydał ją ${validCardName}`   \r\n    } else {\r\n        throw new Error('Niepoprawny numer karty. Spróbuj jeszcze raz.')\r\n    }\r\n  }\r\n}\r\n\r\nexport default checkCardNumber;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import checkCardNumber from './card-checker';\r\n\r\n\r\n// console.log(cardChecker('4111111111111111'));\r\n\r\n\r\n\r\n\r\nconst form = document.querySelector('form');\r\nconst cardNameInput = document.querySelector('.card-number');\r\nconst submitBtn = document.querySelector('.submit-btn');\r\nconst errorEl = document.querySelector('.error');\r\nconst result = document.querySelector('.result');\r\n\r\ndocument.forms[0].addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    let messages = [];\r\n    switch(true) {\r\n        case cardNameInput.value.replace(/\\s+/g, '').length < 13 :\r\n            messages.push('Numer karty musi zawierać od 13 do 16 cyfr');\r\n            break;\r\n        case cardNameInput.value.replace(/\\s+/g, '').length > 16 :\r\n            messages.push('Numer karty musi zawierać od 13 do 16 cyfr');\r\n            break;\r\n    }\r\n\r\n    if (messages.length > 0) {\r\n        e.preventDefault();\r\n        errorEl.innerText = messages.join(', ')\r\n    }\r\n    \r\n    if(checkCardNumber) {\r\n        result.innerText = checkCardNumber(cardNameInput.value);\r\n    } else {\r\n        result.innerText = 'Niepoprawny numer karty';\r\n    }\r\n    \r\n})"]}