{"version":3,"sources":["card-checker.js","app.js"],"names":["checkCardNumber","cardNumber","result","document","querySelector","clearCardNumber","replace","test","Error","cardNumberArray","split","poppedArray","poppedItem","pop","multipliedNumberArray","slice","map","num","index","parseInt","reducedNumbers","toString","reduce","total","cardNames","validCardName","startsWith","length","validValue","classList","remove","add","innerText","invalidValue","form","cardNameInput","submitBtn","errorEl","forms","addEventListener","e","preventDefault","value"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["\r\nfunction checkCardNumber(cardNumber) {\r\n\r\n    const result = document.querySelector('.result');\r\n\r\n   const clearCardNumber = cardNumber.replace(/\\s+/g, ''); \r\n\r\n    if(typeof clearCardNumber !== 'string' || /^\\d+$/.test(clearCardNumber) !== true ) {\r\n        throw new Error(\"Podaj numer karty w postaci liczb.\")\r\n    } else {\r\n\r\n    const cardNumberArray = clearCardNumber.split('');\r\n    \r\n    const poppedArray = [...cardNumberArray];\r\n    \r\n    const poppedItem = poppedArray.pop();\r\n    \r\n    const multipliedNumberArray = cardNumberArray.slice(0,-1).map((num, index) => index % 2 === 0 ? num * 2 : parseInt(num));\r\n    \r\n    const reducedNumbers = multipliedNumberArray.toString().replace(/,/g, '').split('').map(num => parseInt(num)).reduce((total, num) => total += num);\r\n    \r\n    \r\n  if((reducedNumbers + parseInt(poppedItem)) % 10 === 0) {\r\n      const cardNames = ['Mastercard', 'AmericanExpress', 'Visa'];\r\n      \r\n      let validCardName;\r\n      \r\n      switch(true) {\r\n          case (clearCardNumber.startsWith('51') && clearCardNumber.length === 16) :\r\n             validCardName = cardNames[0];\r\n              break;\r\n          case (clearCardNumber.startsWith('52') && clearCardNumber.length === 16) :\r\n              validCardName = cardNames[0];\r\n              break;\r\n          case (clearCardNumber.startsWith('53') && clearCardNumber.length === 16) :\r\n              validCardName = cardNames[0];\r\n              break;\r\n          case (clearCardNumber.startsWith('54') && clearCardNumber.length === 16) :\r\n              validCardName = cardNames[0];\r\n              break;\r\n          case (clearCardNumber.startsWith('55') && clearCardNumber.length === 16) :\r\n              validCardName = cardNames[0];\r\n              break;\r\n          case (clearCardNumber.startsWith('34') && clearCardNumber.length === 15) :\r\n              validCardName = cardNames[1];\r\n              break;\r\n          case (clearCardNumber.startsWith('37') && clearCardNumber.length === 15) :\r\n              validCardName = cardNames[1];\r\n              break;\r\n          case (clearCardNumber.startsWith('4')  && (clearCardNumber.length === 13 || clearCardNumber.length === 16)):\r\n              validCardName = cardNames[2];\r\n              break;\r\n          default: \r\n              false;\r\n      }\r\n        const validValue = `Twoja karta jest poprawna. Wydana została przez ${validCardName}`;\r\n        result.classList.remove('red');\r\n        result.classList.add('green');\r\n        return result.innerText = validValue;\r\n    } else {\r\n        const invalidValue = 'Niepoprawny numer karty. Spróbuj jeszcze raz.';\r\n        result.classList.remove('green');\r\n        result.classList.add('red');\r\n        return result.innerText = invalidValue;\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default checkCardNumber;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import checkCardNumber from './card-checker';\r\n\r\n\r\n// console.log(cardChecker('4111111111111111'));\r\n\r\n\r\n\r\nconst form = document.querySelector('form');\r\nconst cardNameInput = document.querySelector('.card-number');\r\nconst submitBtn = document.querySelector('.submit-btn');\r\nconst errorEl = document.querySelector('.error');\r\n\r\ndocument.forms[0].addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n\r\n    switch(true) {\r\n        case cardNameInput.value.replace(/\\s+/g, '').length < 13 :\r\n            errorEl.classList.add('red')\r\n            errorEl.innerText = 'Numer karty musi zawierać od 13 do 16 cyfr';\r\n            break;\r\n        case cardNameInput.value.replace(/\\s+/g, '').length > 16 :\r\n            errorEl.classList.add('red');\r\n            errorEl.innerText = 'Numer karty musi zawierać od 13 do 16 cyfr';\r\n            break;\r\n        default: \r\n            errorEl.classList.remove('red');\r\n            errorEl.innerText = '';\r\n    }\r\n    \r\n    checkCardNumber(cardNameInput.value);\r\n\r\n})"]}